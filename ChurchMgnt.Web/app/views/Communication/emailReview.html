<div ng-controller="emailComposeCtrl" ng-init="formLoad()">

    <div class="row">
        <div class="col-lg-12">
            <div class="hpanel">
                <div class="panel-heading">
                    <div panel-tools></div>
                    New email
                </div>
                <div class="panel-body">

                    <form name="simpleForm" novalidate id="simpleForm">

                        <div class="text-center m-b-md">

                            <a ng-click="wizard.show(1)" class="btn" ng-class="{ 'btn-primary': step == 1, 'btn-default': step != 1}">Email Compose</a>
                            <a ng-click="wizard.show(2)" class="btn" ng-class="{ 'btn-primary': step == 2, 'btn-default': step != 2}">Email Review</a>                            

                        </div>


                        <div ng-show="step == 1" class="p-m">

                            <div class="row">                               
                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">To:</label>

                                    <div class="col-sm-10"><input type="text" ng-model="emailCompose.to" class="form-control input-sm" placeholder="example@email.com"></div>
                                    <div class="col-sm-1"><button class="btn btn-primary btn-xs" title="Select email group">...</button></div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">Email Group:</label>
                                    <div class="col-sm-11">
                                        <div class="btn-group">
                                            <!--<multiselect ng-model="emailCompose.multiselectModel" options="group.name for group in groups" data-multiple="true"></multiselect>-->
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">Cc:</label>

                                    <div class="col-sm-11"><input type="text" ng-model="emailCompose.cc" class="form-control input-sm"></div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">Subject:</label>

                                    <div class="col-sm-11"><input type="text" ng-model="emailCompose.subject" class="form-control input-sm" placeholder="Enter Email subject"></div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">Email Content:</label>

                                    <div class="col-sm-11">
                                        <text-angular ng-model="emailCompose.content" ng-required="true" name="txtTemplate"></text-angular>
                                        <span class="error" ng-show="emailTemplateForm.txtTemplate.$dirty && bankForm.txtTemplate.$error.required">
                                            Required!
                                        </span>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div ng-show="step == 2" class="p-m">

                            <div class="row">                             
                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">To:</label>
                                    <div class="col-sm-10">{{emailCompose.to}}</div>
                                </div>

                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">Email Group:</label>
                                    <div class="col-sm-10">{{emailCompose.subject}}</div>
                                </div>

                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">CC:</label>
                                    <div class="col-sm-10">{{emailCompose.cc}}</div>
                                </div>

                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">Subject:</label>
                                    <div class="col-sm-10">{{emailCompose.subject}}</div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-1 control-label text-left">Email Content:</label>
                                    <!--<div class="col-sm-10">{{emailCompose.content}}</div>-->
                                    <p ng-bind-html="emailCompose.content"></p>
                                    <!--<div class="col-sm-10" ng-bind-html="emailCompose.conten | trust"></div>-->
                                </div>
                            </div>

                        </div>                   
                        <div class="text-right m-t-xs">
                            <button ng-click="wizard.prev()" class="btn btn-default">Review</button>
                            <button ng-click="wizard.next()"  ng-hide="step == 1" class="btn btn-default">Send Email</button>                            
                        </div>
                    </form>                    
                </div>
            </div>
        </div>
    </div>

</div>

